<div>
    <ul class="uk-breadcrumb" style="margin: 10px">
            <li *ngIf="parent_category"><a [href]="'/search?category=' + parent_category">{{parent_category}}</a></li> 
            <li *ngIf="sub_category"><a [href]="'/search?category=' + parent_category + '&subcategory=' + sub_category">{{sub_category}}</a></li>
    </ul>
    <div class="uk-margin-large-bottom" uk-grid="">
        <div class="uk-margin-left uk-width-1-3">
            <h1>
                <ng-template *ngIf="parent_category; then parent; else default"></ng-template>
                <ng-template #parent>
                    {{parent_category}}
                </ng-template>
                <ng-template #default>
                    Search
                </ng-template>
            </h1>
            <p class="uk-text-bold" style="border-bottom:calc(0.2px + 0.05em) solid #e5e5e5; width: 100%; margin-bottom:1px">category</p>
            <div>
                <ul class="uk-nav uk-nav-default">
                    <ng-template *ngIf="sub_category; then yes; else no"></ng-template>
                    <ng-template #yes>
                        <li>
                            <a class="uk-text-bold"
                                [href]="'/search?category=' + parent_category"
                            >
                            view all {{parent_category}}
                            </a>
                        </li>
                    </ng-template>
                    <ng-template #no>
                        <ng-container *ngIf="parent_category">
                            <li>
                                <a class="uk-text-bold"
                                    href="/search"
                                >
                                view all
                                </a>
                            </li>
                        </ng-container>
                    </ng-template>
                    <ng-template *ngIf="parent_category; then list; else none">

                    </ng-template>
                    <ng-template #list>
                        <li *ngFor="let subcategory of categories[parent_category]['subcategories']">
                            <a 
                                [href]="'/search?category=' + parent_category + '&subcategory=' + subcategory"
                                [class.uk-active]="sub_category === subcategory"
                            >
                            {{subcategory}}
                            </a>
                        </li>
                    </ng-template>
                    <ng-template #none>
                        <li class="uk-parent" *ngFor="let category of categories | keyvalue">
                            <a [href]="'/search?category=' + category">{{category}}</a>
                            <ul class="uk-nav-sub">
                                <li *ngFor="let subcategory of categories[category]['subcategories']"><a [href]="'/search?category=' + category + '&subcategory=' + subcategory">{{subcategory}}</a></li>
                            </ul>
                        </li>
                    </ng-template>
                </ul>
            </div>
        </div>
        <div class="uk-width-expand uk-margin-right" style="margin-top;: 70px">
            <div style="border-bottom:calc(0.2px + 0.05em) solid #e5e5e5; width: 100%">
                <div uk-form-custom="target: > * > span:first-child">
                    <select 
                    (onChange)="selectBrand"
                    >
                        <option value="">Brand</option>
                        <option *ngFor="let brand of brands" [value]="brand">{{brand}}</option>
                    </select>
                    <button class="uk-button uk-button-text" type="button" tabIndex="-1">
                        <span *ngIf="brand">Brand</span>
                        <span></span>
                        <span uk-icon="icon: chevron-down"></span>
                    </button>
                </div>
            </div>
            <div uk-grid="" class="uk-child-width-1-4@l uk-child-width-1-2@m uk-child-width-1-1@s uk-margin-top">
                <app-product-card *ngFor="let product of productList" [product]="product"></app-product-card> 
            </div>
        </div>
    </div>
</div>